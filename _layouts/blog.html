---
layout: default
---

<section class="container mx-auto pb-10 pt-20 lg:pt-[90px] lg:pb-20">
  <div class="flex flex-wrap justify-center border-neutral-500 border-y mb-4 md:mb-12">
    {% for cat in site.cat_order %}
    <a
      href="{{ site.url }}{{ site.baseurl }}{{ cat.url }}"
      aria-label="Category {{cat.title}} page"
      class="block font-mulish hover:underline p-4 {% if cat.title == page.title %}font-black{% endif %}"
    >
      {{ cat.title | upcase }}
    </a>
    {% endfor %}
  </div>

  {% assign posts = page.posts | default: site.posts | sort: "date" | reverse %}

  {% if posts and posts.size > 0 %}

    {%- comment -%} 优先找带 highlight:true 的文章（按最新在前） {%- endcomment -%}
    {% assign first_post = posts | where: "highlight", true | first %}

    {% if first_post %}
      {%- comment -%} 把置顶文章从列表里排除 {%- endcomment -%}
      {% assign rest_posts = posts | where_exp: "p", "p.id != first_post.id" %}
    {% else %}
      {%- comment -%} 没有置顶：第一篇=最新，剩余=从第2篇起 {%- endcomment -%}
      {% assign first_post = posts[0] %}
      {% assign rest_posts = posts | slice: 1, posts.size %}
    {% endif %}

    {% include post_main.html post=first_post %}

    {% if rest_posts.size > 0 %}
      <hr class="h-px my-12 bg-neutral-500 border-0" />
      <h1 class="text-2xl md:text-4xl font-bold text-neutral-800 dark:text-neutral-200">
        {{ site.data[site.active_lang].strings.blog.more_articles | default: site.data['en'].strings.blog.more_articles }}
      </h1>

      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-12 gap-y-16 py-8 md:py-16">
        {% for post in rest_posts %}
          {% include post_card.html post=post %}
        {% endfor %}
      </div>
    {% endif %}

  {% endif %}
</section>
